<mxGraphModel dx="800" dy="800" grid="1" guides="1" tooltips="1" connect="1" fold="1" page="1" pageScale="1" pageWidth="826" pageHeight="1169" style="default-style2"><root><mxCell id="0"/><mxCell id="1" parent="0"/><mxCell id="129" value="" style="shape=note" vertex="1" parent="1"><mxGeometry x="10" y="10" width="640" height="1045" as="geometry"/></mxCell><mxCell id="128" value="&lt;p style=&quot;margin: 0px; margin-top: 4px; text-align: center; text-decoration: underline;&quot;&gt;&lt;strong&gt;/&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="860" y="50" width="600" height="1100" as="geometry"/></mxCell><mxCell id="125" value="&lt;p style=&quot;margin: 0px; margin-top: 4px; text-align: center; text-decoration: underline;&quot;&gt;&lt;strong&gt;users&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="870" y="90" width="580" height="1050" as="geometry"/></mxCell><mxCell id="124" value="&lt;p style=&quot;margin: 0px; margin-top: 4px; text-align: center; text-decoration: underline;&quot;&gt;&lt;strong&gt;$user&lt;/strong&gt;&lt;/p&gt;&lt;hr /&gt;&lt;p style=&quot;margin: 0px; margin-left: 8px;&quot;&gt;string item&amp;nbsp;= null&lt;/p&gt;&lt;p style=&quot;margin: 0px; margin-left: 8px;&quot;&gt;string rx = null&lt;/p&gt;&lt;p style=&quot;margin: 0px; margin-left: 8px;&quot;&gt;string rx_loc = null&lt;/p&gt;&lt;p style=&quot;margin: 0px; margin-left: 8px;&quot;&gt;string tx = null&lt;/p&gt;&lt;p style=&quot;margin: 0px; margin-left: 8px;&quot;&gt;string tx_loc = null&lt;/p&gt;" style="verticalAlign=top;align=left;overflow=fill;fontSize=12;fontFamily=Helvetica;html=1" vertex="1" parent="1"><mxGeometry x="940" y="130" width="500" height="995" as="geometry"/></mxCell><mxCell id="2" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;IDLE_A &amp;amp; IDLE_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="180" y="70" width="160" height="60" as="geometry"/></mxCell><mxCell id="3" value="&#xa;SEND_A&#xa;a.item = null&#xa;a.tx_loc = b&#xa;a.tx = $(a.item)" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="102" target="4" edge="1"><mxGeometry x="-120" as="geometry"><mxPoint x="190" y="190" as="targetPoint"/><mxPoint x="220" y="180" as="sourcePoint"/><Array as="points"><mxPoint x="260" y="190"/><mxPoint x="163" y="166"/></Array><mxPoint x="99.5" y="-5" as="offset"/></mxGeometry></mxCell><mxCell id="4" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;TX_A &amp;amp; IDLE_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="180" y="240" width="160" height="60" as="geometry"/></mxCell><mxCell id="7" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;TX_A &amp;amp; RX_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="180" y="450" width="160" height="60" as="geometry"/></mxCell><mxCell id="9" value="b.item == null" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="220" y="350" width="80" height="40" as="geometry"/></mxCell><mxCell id="11" value="ACCEPT_B&#xa;b.rx_loc=a&#xa;b.rx = $(rx_loc).tx" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=0.5;entryY=0" parent="1" source="9" target="7" edge="1"><mxGeometry y="36.05551275463989" relative="1" as="geometry"><mxPoint x="260" y="430" as="targetPoint"/><mxPoint x="-16.05551275463995" y="-30" as="offset"/></mxGeometry></mxCell><mxCell id="12" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="4" target="9" edge="1"><mxGeometry x="109" y="150" as="geometry"><mxPoint x="339" y="470" as="targetPoint"/><mxPoint x="260" y="300" as="sourcePoint"/><Array as="points"><mxPoint x="260" y="310"/><mxPoint x="242" y="396"/></Array><mxPoint x="49.5" y="25" as="offset"/></mxGeometry></mxCell><mxCell id="13" value="&#xa;ROLLBACK_B&#xa;" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=1;entryY=0.5;exitX=1;exitY=0.25" parent="1" source="7" target="4" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="500" y="535" as="targetPoint"/><mxPoint x="500" y="425" as="sourcePoint"/><Array as="points"><mxPoint x="420" y="380"/><mxPoint x="403" y="461"/></Array><mxPoint x="140" y="15" as="offset"/></mxGeometry></mxCell><mxCell id="14" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;TX_A &amp;amp; ACK_RX_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="180" y="600" width="160" height="60" as="geometry"/></mxCell><mxCell id="23" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="7" target="14" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="270" y="630" as="targetPoint"/><mxPoint x="270" y="520" as="sourcePoint"/><Array as="points"><mxPoint x="260" y="560"/><mxPoint x="173" y="556"/></Array><mxPoint x="39.5" y="15" as="offset"/></mxGeometry></mxCell><mxCell id="27" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;ACK_TX_A &amp;amp; ACK_RX_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="180" y="750" width="160" height="60" as="geometry"/></mxCell><mxCell id="28" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="14" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="260" y="750" as="targetPoint"/><mxPoint x="260" y="660" as="sourcePoint"/><Array as="points"><mxPoint x="260" y="710"/><mxPoint x="173" y="706"/></Array><mxPoint x="49.5" as="offset"/></mxGeometry></mxCell><mxCell id="30" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;IDLE_A&lt;/strong&gt;&lt;/div&gt;&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="110" y="980" width="160" height="60" as="geometry"/></mxCell><mxCell id="31" value="&#xa;COMMIT_A&#xa;a.tx=null&#xa;a.tx_loc=null" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=0.5;entryY=0;" parent="1" target="30" edge="1"><mxGeometry x="-120" as="geometry"><mxPoint x="190" y="970" as="targetPoint"/><mxPoint x="260" y="880" as="sourcePoint"/><Array as="points"><mxPoint x="190" y="920"/><mxPoint x="183" y="556"/></Array><mxPoint x="-85" y="20" as="offset"/></mxGeometry></mxCell><mxCell id="33" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;exitX=0.5;exitY=1;" parent="1" source="27" edge="1"><mxGeometry x="-55" y="-70" as="geometry"><mxPoint x="260" y="880" as="targetPoint"/><mxPoint x="265" y="810" as="sourcePoint"/><Array as="points"><mxPoint x="260" y="820"/><mxPoint x="178" y="566"/></Array><mxPoint x="39.5" y="15" as="offset"/></mxGeometry></mxCell><mxCell id="41" value="a.state != ACK_TX&#xa;a.state != TX&#xa;" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="530" y="990" width="80" height="40" as="geometry"/></mxCell><mxCell id="44" value="&#xa;COMMIT_B&#xa;b.item=rx&#xa;b.rx=null&#xa;b.rx_loc=null&#xa;" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=1;entryY=0.5;exitX=0.5;exitY=0" parent="1" source="41" target="2" edge="1"><mxGeometry x="-120" as="geometry"><mxPoint x="30" y="680" as="targetPoint"/><mxPoint x="50" y="790" as="sourcePoint"/><Array as="points"><mxPoint x="570" y="290"/><mxPoint x="193" y="576"/></Array><mxPoint x="155" y="145" as="offset"/></mxGeometry></mxCell><mxCell id="46" value="&#xa;ROLLBACK_A" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0;entryY=0.75;exitX=0;exitY=0.5" parent="1" source="4" target="2" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="270" y="610" as="targetPoint"/><mxPoint x="270" y="520" as="sourcePoint"/><Array as="points"><mxPoint x="150" y="200"/><mxPoint x="183" y="566"/></Array><mxPoint x="25" y="-22.5" as="offset"/></mxGeometry></mxCell><mxCell id="47" value="CLIENT A SENDS TO CLIENT B" style="text;spacingTop=-5;" parent="1" vertex="1"><mxGeometry x="20" y="20" width="560" height="30" as="geometry"/></mxCell><mxCell id="52" value="careful to avoid&#xa;b committing &#xa;before COMMIT_A&#xa;" style="shape=note" parent="1" vertex="1"><mxGeometry x="400" y="830" width="130" height="100" as="geometry"/></mxCell><mxCell id="53" value="" style="endArrow=open;endSize=12;dashed=1;exitX=0.5;exitY=1;" parent="1" source="52" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="-60" y="-80" as="sourcePoint"/><mxPoint x="500" y="990" as="targetPoint"/></mxGeometry></mxCell><mxCell id="58" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=0;entryY=0.75;exitX=0;exitY=0.5" parent="1" source="14" target="7" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="180" y="115" as="targetPoint"/><mxPoint x="180" y="630" as="sourcePoint"/><Array as="points"><mxPoint x="110" y="600"/><mxPoint x="193" y="576"/></Array><mxPoint x="-35" y="277.5" as="offset"/></mxGeometry></mxCell><mxCell id="59" value="Client A&#xa;is updating&#xa;B's state" style="shape=note" parent="1" vertex="1"><mxGeometry x="380" y="490" width="130" height="100" as="geometry"/></mxCell><mxCell id="62" value="" style="endArrow=open;endSize=12;dashed=1;exitX=0;exitY=0.5;" parent="1" source="59" edge="1"><mxGeometry x="-50" y="-70" as="geometry"><mxPoint x="-110" y="650" as="sourcePoint"/><mxPoint x="340" y="550" as="targetPoint"/></mxGeometry></mxCell><mxCell id="63" value="ROLLBACK_A" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0.5;entryY=1;exitX=0;exitY=0.25" parent="1" source="7" target="64" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="190" y="125" as="targetPoint"/><mxPoint x="190" y="280" as="sourcePoint"/><Array as="points"><mxPoint x="110" y="460"/><mxPoint x="193" y="576"/></Array><mxPoint x="-5" y="-17.5" as="offset"/></mxGeometry></mxCell><mxCell id="64" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;IDLE_A &amp;amp; RX_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="30" y="330" width="160" height="60" as="geometry"/></mxCell><mxCell id="65" value="ROLLBACK_B" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=0;entryY=0.5;exitX=0.5;exitY=0" parent="1" source="64" target="2" edge="1"><mxGeometry x="-60" y="-80" as="geometry"><mxPoint x="120" y="400" as="targetPoint"/><mxPoint x="190" y="475" as="sourcePoint"/><Array as="points"><mxPoint x="110" y="90"/><mxPoint x="203" y="586"/></Array><mxPoint x="-65" y="95" as="offset"/></mxGeometry></mxCell><mxCell id="66" value="&#xa;Client B acks&#xa;on A's state&#xa;this is the point of &#xa;no return" style="shape=note" parent="1" vertex="1"><mxGeometry x="360" y="650" width="130" height="100" as="geometry"/></mxCell><mxCell id="67" value="" style="endArrow=open;endSize=12;dashed=1;exitX=0;exitY=0.25;" parent="1" source="66" edge="1"><mxGeometry x="-80" y="80" as="geometry"><mxPoint x="350" y="690" as="sourcePoint"/><mxPoint x="310" y="680" as="targetPoint"/></mxGeometry></mxCell><mxCell id="68" value="After double ack,&#xa;either clients can &#xa;guide the way back &#xa;to idle state" style="shape=note" parent="1" vertex="1"><mxGeometry x="10" y="700" width="130" height="100" as="geometry"/></mxCell><mxCell id="69" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;IDLE&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1130" y="565" width="160" height="60" as="geometry"/></mxCell><mxCell id="70" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;TX&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1130" y="825" width="160" height="60" as="geometry"/></mxCell><mxCell id="71" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;ACK_TX&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1130" y="1035" width="160" height="60" as="geometry"/></mxCell><mxCell id="72" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;RX&lt;/strong&gt;&lt;/div&gt;&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1130" y="345" width="160" height="60" as="geometry"/></mxCell><mxCell id="73" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;ACK_RX&lt;/strong&gt;&lt;/div&gt;&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1130" y="230" width="160" height="60" as="geometry"/></mxCell><mxCell id="74" value="&#xa;SEND_A&#xa;tx = a.item&#xa;item = null&#xa;tx_loc != null" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="104" target="70" edge="1"><mxGeometry x="10" y="-115" as="geometry"><mxPoint x="1079" y="795" as="targetPoint"/><mxPoint x="1079" y="725" as="sourcePoint"/><Array as="points"><mxPoint x="1210" y="795"/><mxPoint x="982" y="561"/></Array><mxPoint x="-70.5" y="15" as="offset"/></mxGeometry></mxCell><mxCell id="75" value="&#xa;ROLLBACK_A" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=1;entryY=0.75;exitX=1;exitY=0.25" parent="1" source="70" target="69" edge="1"><mxGeometry x="90" y="135" as="geometry"><mxPoint x="1390" y="600" as="targetPoint"/><mxPoint x="1390" y="755" as="sourcePoint"/><Array as="points"><mxPoint x="1380" y="665"/><mxPoint x="1393" y="1051"/></Array><mxPoint x="65" y="-5" as="offset"/></mxGeometry></mxCell><mxCell id="78" value="&#xa;COMMIT_A&#xa;tx=null&#xa;tx_loc=null" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=0;entryY=0.75;exitX=0;exitY=0.5" parent="1" source="71" target="69" edge="1"><mxGeometry x="10" y="-75" as="geometry"><mxPoint x="950" y="840" as="targetPoint"/><mxPoint x="1000" y="950" as="sourcePoint"/><Array as="points"><mxPoint x="980" y="775"/><mxPoint x="1113" y="736"/></Array><mxPoint x="-105" y="62.5" as="offset"/></mxGeometry></mxCell><mxCell id="80" value="PRE_ABORT_A" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=1;entryY=0.25;exitX=1;exitY=0.75" parent="1" source="73" target="72" edge="1"><mxGeometry x="170" y="195" as="geometry"><mxPoint x="1350" y="125" as="targetPoint"/><mxPoint x="1350" y="360" as="sourcePoint"/><Array as="points"><mxPoint x="1380" y="250"/><mxPoint x="1473" y="1111"/></Array><mxPoint x="65" y="-5" as="offset"/></mxGeometry></mxCell><mxCell id="81" value="&#xa;ROLLBACK_B&#xa;" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=1;entryY=0.25;exitX=1;exitY=0.5" parent="1" source="72" target="69" edge="1"><mxGeometry x="10" y="20" as="geometry"><mxPoint x="1380" y="190" as="targetPoint"/><mxPoint x="1380" y="385" as="sourcePoint"/><Array as="points"><mxPoint x="1380" y="410"/><mxPoint x="1443" y="381"/></Array><mxPoint x="65" y="2.5" as="offset"/></mxGeometry></mxCell><mxCell id="82" value="item == null&#xa;other.state=&quot;TX&quot;&#xa;other.tx_loc = us" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1150" y="460" width="120" height="80" as="geometry"/></mxCell><mxCell id="83" value="ACCEPT_B&#xa;rx_loc=other&#xa;rx = other.tx" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;align=left;verticalAlign=top;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=0.5;entryY=1" parent="1" source="82" target="72" edge="1"><mxGeometry x="0.5" y="130" relative="1" as="geometry"><mxPoint x="960" y="455" as="targetPoint"/><mxPoint as="offset"/></mxGeometry></mxCell><mxCell id="84" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#FF3333;entryX=0.5;entryY=1;exitX=0.5;exitY=0" parent="1" source="69" target="82" edge="1"><mxGeometry x="809" y="100" as="geometry"><mxPoint x="1039" y="420" as="targetPoint"/><mxPoint x="960" y="250" as="sourcePoint"/><Array as="points"><mxPoint x="1210" y="550"/><mxPoint x="942" y="346"/></Array><mxPoint x="49.5" y="25" as="offset"/></mxGeometry></mxCell><mxCell id="89" value="&#xa;COMMIT_B&#xa;item=b.rx&#xa;rx=null&#xa;rx_loc=null" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=0;entryY=0.25;exitX=1;exitY=0.5" parent="1" source="90" target="69" edge="1"><mxGeometry x="10" y="-75" as="geometry"><mxPoint x="980" as="targetPoint"/><mxPoint x="600" y="120" as="sourcePoint"/><Array as="points"><mxPoint x="980" y="295"/><mxPoint x="603" y="-94"/></Array><mxPoint x="-95" y="-22.5" as="offset"/></mxGeometry></mxCell><mxCell id="90" value="other.state != ACK_TX&#xa;other.state != TX" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1000" y="240" width="80" height="40" as="geometry"/></mxCell><mxCell id="91" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=1;entryY=0.5;exitX=0;exitY=0.5" parent="1" source="73" target="90" edge="1"><mxGeometry x="350" y="-515" as="geometry"><mxPoint x="1040" y="235" as="targetPoint"/><mxPoint x="750" y="345" as="sourcePoint"/><Array as="points"><mxPoint x="1100" y="260"/><mxPoint x="603" y="141"/></Array><mxPoint x="140" y="-60.5" as="offset"/></mxGeometry></mxCell><mxCell id="93" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="94" target="71" edge="1"><mxGeometry x="900" y="165" as="geometry"><mxPoint x="1220" y="995" as="targetPoint"/><mxPoint x="1220" y="905" as="sourcePoint"/><Array as="points"><mxPoint x="1210" y="995"/><mxPoint x="1133" y="951"/></Array><mxPoint x="49.5" as="offset"/></mxGeometry></mxCell><mxCell id="94" value="other.state==ACK_RX" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1150" y="925" width="120" height="80" as="geometry"/></mxCell><mxCell id="95" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="70" target="94" edge="1"><mxGeometry x="900" y="165" as="geometry"><mxPoint x="1220" y="995" as="targetPoint"/><mxPoint x="1220" y="905" as="sourcePoint"/><Array as="points"><mxPoint x="1210" y="905"/><mxPoint x="1133" y="951"/></Array><mxPoint x="29.5" y="-5" as="offset"/></mxGeometry></mxCell><mxCell id="100" value="guard depends&#xa; on other&#xa;client's state" style="shape=note" parent="1" vertex="1"><mxGeometry x="1330" y="905" width="100" height="110" as="geometry"/></mxCell><mxCell id="101" value="" style="endArrow=open;endSize=12;dashed=1;" parent="1" source="100" edge="1"><mxGeometry x="850" y="75" as="geometry"><mxPoint x="1450" y="975" as="sourcePoint"/><mxPoint x="1300" y="975" as="targetPoint"/></mxGeometry></mxCell><mxCell id="102" value="a.item != null" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="220" y="160" width="80" height="40" as="geometry"/></mxCell><mxCell id="103" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="2" target="102" edge="1"><mxGeometry x="30" y="-80" as="geometry"><mxPoint x="260" y="240" as="targetPoint"/><mxPoint x="260" y="130" as="sourcePoint"/><Array as="points"><mxPoint x="260" y="160"/><mxPoint x="163" y="166"/></Array><mxPoint x="49.5" y="25" as="offset"/></mxGeometry></mxCell><mxCell id="104" value="a.item != null" style="rhombus;fillColor=#ffffc0;strokeColor=#ff0000;" parent="1" vertex="1"><mxGeometry x="1150" y="675" width="120" height="80" as="geometry"/></mxCell><mxCell id="105" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0.5;entryY=0;exitX=0.5;exitY=1" parent="1" source="69" target="104" edge="1"><mxGeometry x="10" y="135" as="geometry"><mxPoint x="1210" y="865" as="targetPoint"/><mxPoint x="1210" y="625" as="sourcePoint"/><Array as="points"><mxPoint x="1210" y="655"/><mxPoint x="1113" y="631"/></Array><mxPoint x="-40.5" y="35" as="offset"/></mxGeometry></mxCell><mxCell id="108" value="" style="endArrow=open;endSize=12;dashed=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5" edge="1" parent="1" source="68" target="27"><mxGeometry x="-70" y="90" as="geometry"><mxPoint x="370" y="685" as="sourcePoint"/><mxPoint x="320" y="690" as="targetPoint"/></mxGeometry></mxCell><mxCell id="109" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=0;entryY=0.5;exitX=1;exitY=0.5" edge="1" parent="1" source="110" target="41"><mxGeometry x="-120" as="geometry"><mxPoint x="270" y="990" as="targetPoint"/><mxPoint x="270" y="890" as="sourcePoint"/><Array as="points"><mxPoint x="460" y="1010"/><mxPoint x="193" y="576"/></Array><mxPoint x="-5" y="-10.5" as="offset"/></mxGeometry></mxCell><mxCell id="110" value="&lt;div style=&quot;margin-top: 8px;&quot;&gt;&lt;strong&gt;ACK_RX_B&lt;/strong&gt;&lt;br /&gt;&lt;hr /&gt;&lt;/div&gt;" style="rounded=1;arcSize=40;overflow=fill;html=1;verticalAlign=top;fillColor=#ffffc0;strokeColor=#ff0000;" vertex="1" parent="1"><mxGeometry x="290" y="980" width="160" height="60" as="geometry"/></mxCell><mxCell id="111" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;entryX=0.5;entryY=0;" edge="1" parent="1" target="110"><mxGeometry x="-110" as="geometry"><mxPoint x="370" y="970" as="targetPoint"/><mxPoint x="260" y="880" as="sourcePoint"/><Array as="points"><mxPoint x="370" y="920"/><mxPoint x="193" y="566"/></Array><mxPoint x="-65" y="20" as="offset"/></mxGeometry></mxCell><mxCell id="117" value="$user = $(data.rx_loc) ||&#xa;$user = $(data.tx_loc)" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;exitX=0.5;exitY=0" edge="1" parent="1"><mxGeometry x="40" y="-31" as="geometry"><mxPoint x="820" y="199" as="targetPoint"/><mxPoint x="690" y="199" as="sourcePoint"/><Array as="points"><mxPoint x="690" y="199"/><mxPoint x="783" y="455"/></Array><mxPoint x="5" y="-0.5" as="offset"/></mxGeometry></mxCell><mxCell id="118" value="$user=auth.username" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;" edge="1" parent="1"><mxGeometry x="40" y="-121" as="geometry"><mxPoint x="820" y="129" as="targetPoint"/><mxPoint x="690" y="129" as="sourcePoint"/><Array as="points"><mxPoint x="750" y="129"/><mxPoint x="233" y="455"/></Array><mxPoint x="5" y="-0.5" as="offset"/></mxGeometry></mxCell><mxCell id="120" value="$user = $(data.tx_loc) || &#xa;$user = $(data.rx_loc) || &#xa;$user=auth.username" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#7F00FF;exitX=0.5;exitY=0" edge="1" parent="1"><mxGeometry x="40" y="49" as="geometry"><mxPoint x="820" y="279" as="targetPoint"/><mxPoint x="690" y="279" as="sourcePoint"/><Array as="points"><mxPoint x="690" y="279"/><mxPoint x="783" y="535"/></Array><mxPoint x="5" y="-0.5" as="offset"/></mxGeometry></mxCell><mxCell id="121" value="Authentication Legend" style="text;spacingTop=-5;" vertex="1" parent="1"><mxGeometry x="695" y="69" width="30" height="20" as="geometry"/></mxCell><mxCell id="123" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#97D077;entryX=0.5;entryY=1;exitX=0.5;exitY=0" edge="1" parent="1" source="72" target="73"><mxGeometry x="189" y="-405" as="geometry"><mxPoint x="1209" y="285" as="targetPoint"/><mxPoint x="1209" y="345" as="sourcePoint"/><Array as="points"><mxPoint x="1210" y="310"/><mxPoint x="1302" y="301"/></Array><mxPoint x="-40.5" y="5" as="offset"/></mxGeometry></mxCell><mxCell id="126" value="" style="ellipse;shape=startState;fillColor=#000000;strokeColor=#ff0000;" vertex="1" parent="1"><mxGeometry x="940" y="580" width="30" height="30" as="geometry"/></mxCell><mxCell id="127" value="" style="edgeStyle=elbowEdgeStyle;elbow=horizontal;verticalAlign=bottom;endArrow=open;endSize=8;strokeColor=#ff0000;entryX=0;entryY=0.5" edge="1" source="126" parent="1" target="69"><mxGeometry x="940" y="580" as="geometry"><mxPoint x="955" y="650" as="targetPoint"/></mxGeometry></mxCell></root></mxGraphModel>